<style>
  /* Comic book fonts */
  @import url('https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:wght@400;700&display=swap');

  .shopdev .comic-font {
    font-family: 'Bangers', cursive;
    letter-spacing: 1px;
  }

  .shopdev .comic-text {
    font-family: 'Comic Neue', cursive;
  }

  /* Comic panel styles */
  .shopdev .comic-panel {
    border: 4px solid #000000;
    box-shadow: 8px 8px 0px #000000;
    position: relative;
    overflow: hidden;
    background-color: white;
  }

  .shopdev .comic-panel::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle, transparent 50%, rgba(0, 0, 0, 0.03) 100%);
    pointer-events: none;
  }

  /* Speech bubbles */
  .shopdev .speech-bubble {
    position: relative;
    background: white;
    border: 3px solid #000;
    border-radius: 30px;
    padding: 20px;
    filter: drop-shadow(3px 3px 0 rgba(0, 0, 0, 0.7));
  }

  .shopdev .speech-bubble::after {
    content: '';
    position: absolute;
    bottom: -20px;
    left: 30px;
    border-width: 20px 0 0 20px;
    border-style: solid;
    border-color: #000 transparent transparent transparent;
    display: block;
    width: 0;
  }

  .shopdev .thought-bubble {
    position: relative;
    background: white;
    border: 3px solid #000;
    border-radius: 50%;
    padding: 20px;
    filter: drop-shadow(3px 3px 0 rgba(0, 0, 0, 0.7));
  }

  .shopdev .thought-bubble::before,
  .shopdev .thought-bubble::after {
    content: '';
    position: absolute;
    background: white;
    border: 3px solid #000;
    border-radius: 50%;
  }

  .shopdev .thought-bubble::before {
    width: 20px;
    height: 20px;
    bottom: -15px;
    left: 20px;
  }

  .shopdev .thought-bubble::after {
    width: 10px;
    height: 10px;
    bottom: -25px;
    left: 10px;
  }

  /* Comic book effects */
  .shopdev .comic-dots {
    background-image: radial-gradient(#000 10%, transparent 11%), radial-gradient(#000 10%, transparent 11%);
    background-size: 8px 8px;
    background-position: 0 0, 4px 4px;
    background-repeat: repeat;
    opacity: 1;
  }

  .shopdev .action-button {
    transform: rotate(-2deg);
    transition: transform 0.2s ease;
  }

  .shopdev .action-button:hover {
    transform: rotate(2deg) scale(1.05);
  }

  .shopdev .action-button:active {
    transform: rotate(0deg) scale(0.98);
  }

  /* Zoom effect for product images */
  .shopdev .zoom-panel {
    overflow: hidden;
  }

  .shopdev .zoom-panel img {
    transition: transform 0.5s ease;
  }

  .shopdev .zoom-panel:hover img {
    transform: scale(1.1);
  }

  /* Web animation */
  @keyframes web-swing {
    0% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-10px) rotate(2deg);
    }
    100% {
      transform: translateY(0) rotate(0deg);
    }
  }

  .shopdev .web-swing {
    animation: web-swing 2s ease-in-out infinite;
  }

  /* Onomatopoeia animation */
  @keyframes pop-in {
    0% {
      transform: scale(0);
      opacity: 0;
    }
    60% {
      transform: scale(1.2);
      opacity: 1;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  .shopdev .onomatopoeia {
    animation: pop-in 0.3s forwards;
  }

  /* Spider-Verse color scheme */
  .shopdev .spidey-red {
    background-color: #e23636;
  }

  .shopdev .spidey-blue {
    background-color: #0f5aa5;
  }

  .shopdev .spidey-yellow {
    background-color: #ffd639;
  }

  .shopdev .spidey-black {
    background-color: #000000;
  }
</style>

<div class="w-full py-10 px-4 md:px-8 bg-gray-100 comic-dots">
  <div class="max-w-7xl mx-auto">
    <!-- Main product layout in comic book style -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      <!-- Left side - Product Images Gallery -->
      <div class="space-y-6">
        <!-- Main product image in comic panel -->
        <div class="comic-panel zoom-panel bg-white p-2 aspect-square">
          {%- if product.featured_image != blank -%}
            {{
              product.featured_image
              | image_url: width: 800
              | image_tag: class: 'w-full h-full object-cover', loading: 'eager', alt: product.featured_image.alt
            }}
          {%- else -%}
            {{ 'product-1' | placeholder_svg_tag: 'w-full h-full object-cover' }}
          {%- endif -%}

          <!-- Comic style "ZOOM!" text -->
          <div class="absolute top-4 right-4 comic-font text-3xl text-yellow-400 transform rotate-12 p-2 bg-red-600 rounded-full border-2 border-black onomatopoeia hidden md:block">
            ZOOM!
          </div>
        </div>

        <!-- Thumbnail gallery in comic panels -->
        <div class="grid grid-cols-4 gap-3">
          {% for image in product.images limit: 4 %}
            <div class="comic-panel zoom-panel aspect-square overflow-hidden">
              {{ image | image_url: width: 200 | image_tag: class: 'w-full h-full object-cover', loading: 'lazy' }}
            </div>
          {% endfor %}
        </div>
      </div>

      <!-- Right side - Product Info -->
      <div class="space-y-6">
        <!-- Product title in comic style -->
        <h1 class="comic-font text-4xl md:text-5xl text-center md:text-left text-black">
          {{ product.title }}
        </h1>

        <!-- Product price in comic style burst -->
        <div class="relative inline-block">
          <div class="comic-font spidey-yellow p-4 border-3 border-black rounded-full transform rotate-3 text-2xl md:text-3xl text-black border-4 border-black">
            {{ product.price | money }}
          </div>
          <div class="absolute -top-3 -right-3 comic-font bg-red-500 text-white text-sm px-2 py-1 rounded-full border-2 border-black transform rotate-12 web-swing">
            WOW!
          </div>
        </div>

        <!-- Product description in speech bubble -->
        <div class="speech-bubble comic-text">
          <p class="text-lg">{{ product.description | strip_html | truncatewords: 30 }}</p>
        </div>

        <!-- Product variants -->
        {% if product.has_only_default_variant == false %}
          <div class="comic-panel p-4 bg-blue-100">
            <h3 class="comic-font text-2xl mb-3 text-center">CHOOSE YOUR POWER!</h3>
            <div class="grid grid-cols-2 gap-3">
              {% for option in product.options_with_values %}
                <div class="col-span-2">
                  <label class="comic-text font-bold block mb-2">{{ option.name }}</label>
                  <div class="flex flex-wrap gap-2">
                    {% for value in option.values %}
                      <button class="comic-text border-2 border-black px-3 py-1 bg-white hover:bg-yellow-200 transition-colors">
                        {{ value }}
                      </button>
                    {% endfor %}
                  </div>
                </div>
              {% endfor %}
            </div>
          </div>
        {% endif %}

        <!-- Quantity selector -->
        <div class="flex items-center justify-center md:justify-start space-x-4">
          <label class="comic-font text-xl">QUANTITY:</label>
          <div class="flex border-4 border-black">
            <button class="comic-font px-4 py-2 bg-white hover:bg-gray-200 text-2xl border-r-4 border-black">-</button>
            <input type="number" min="1" value="1" class="comic-text w-16 text-center text-xl border-none focus:ring-0">
            <button class="comic-font px-4 py-2 bg-white hover:bg-gray-200 text-2xl border-l-4 border-black">+</button>
          </div>
        </div>

        <!-- Add to cart button with comic effect -->
        <div class="relative">
          <button class="comic-panel action-button comic-font spidey-red text-white text-2xl md:text-3xl py-3 px-8 w-full border-4 border-black">
            ADD TO CART
          </button>
          <div class="absolute -top-6 -right-2 comic-font bg-yellow-400 text-black text-xl px-4 py-1 rounded-full border-3 border-black transform rotate-12 onomatopoeia">
            CLICK!
          </div>
        </div>

        <!-- Shipping info in thought bubble -->
        <div class="thought-bubble comic-text text-center">
          <p class="font-bold">FREE SHIPPING</p>
          <p class="text-sm">On orders over $50!</p>
        </div>
      </div>
    </div>

    <!-- Product details in comic panels -->
    <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Product specifications -->
      <div class="comic-panel p-6 bg-blue-50">
        <h3 class="comic-font text-2xl mb-4 text-center spidey-blue text-white py-2 border-b-4 border-black">SPECS</h3>
        <ul class="comic-text space-y-2">
          {% for tag in product.tags limit: 5 %}
            <li class="flex items-center">
              <span class="inline-block w-4 h-4 bg-red-500 rounded-full mr-2"></span>
              {{ tag }}
            </li>
          {% endfor %}
          <li class="flex items-center">
            <span class="inline-block w-4 h-4 bg-red-500 rounded-full mr-2"></span>
            Material: Premium Quality
          </li>
          <li class="flex items-center">
            <span class="inline-block w-4 h-4 bg-red-500 rounded-full mr-2"></span>
            Care: Machine Washable
          </li>
        </ul>
      </div>

      <!-- Customer reviews -->
      <div class="comic-panel p-6 bg-yellow-50">
        <h3 class="comic-font text-2xl mb-4 text-center spidey-yellow py-2 border-b-4 border-black">REVIEWS</h3>
        <div class="space-y-4">
          <div class="speech-bubble">
            <p class="comic-text font-bold">Amazing Spider-Fan</p>
            <div class="flex my-1">
              {% for i in (1..5) %}
                <svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                </svg>
              {% endfor %}
            </div>
            <p class="comic-text">This product is AMAZING! Just like from the comics!</p>
          </div>
          <div class="speech-bubble">
            <p class="comic-text font-bold">Web Slinger</p>
            <div class="flex my-1">
              {% for i in (1..4) %}
                <svg class="w-5 h-5 text-yellow-500" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                </svg>
              {% endfor %}
              <svg class="w-5 h-5 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
              </svg>
            </div>
            <p class="comic-text">Great quality! Fast shipping!</p>
          </div>
        </div>
      </div>

      <!-- Easter eggs and references -->
      <div class="comic-panel p-6 bg-red-50">
        <h3 class="comic-font text-2xl mb-4 text-center spidey-red text-white py-2 border-b-4 border-black">
          SPIDER-FACTS
        </h3>
        <div class="comic-text space-y-3">
          <p>Did you know? This product was inspired by the multiverse!</p>
          <p>Look for hidden spider symbols on the product!</p>
          <div class="flex justify-center my-4">
            <div class="comic-font bg-black text-white px-4 py-2 rounded-full border-2 border-red-500 transform -rotate-3 web-swing">
              THWIP!
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Related products -->
    <div class="mt-16">
      <h2 class="comic-font text-4xl text-center mb-8">WITH GREAT POWER COMES GREAT STYLE!</h2>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        {% for product in collections.all.products limit: 4 %}
          <div class="comic-panel p-3 bg-white">
            <div class="zoom-panel aspect-square overflow-hidden mb-3">
              {%- if product.featured_image != blank -%}
                {{
                  product.featured_image
                  | image_url: width: 300
                  | image_tag: class: 'w-full h-full object-cover', loading: 'lazy'
                }}
              {%- else -%}
                {{ 'product-1' | placeholder_svg_tag: 'w-full h-full object-cover' }}
              {%- endif -%}
            </div>
            <h3 class="comic-font text-lg text-center">{{ product.title }}</h3>
            <p class="comic-text text-center font-bold">{{ product.price | money }}</p>
            <div class="mt-2">
              <a
                href="{{ product.url }}"
                class="comic-text block text-center border-2 border-black bg-yellow-400 hover:bg-yellow-300 py-1 font-bold"
              >
                VIEW
              </a>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>

    <!-- Comic-style checkout progress -->
    <div class="mt-16 comic-panel p-6 bg-white">
      <h3 class="comic-font text-2xl text-center mb-4">YOUR HEROIC JOURNEY</h3>
      <div class="flex justify-between items-center">
        <div class="flex flex-col items-center">
          <div class="comic-font spidey-red text-white w-12 h-12 rounded-full border-3 border-black flex items-center justify-center text-xl">
            1
          </div>
          <p class="comic-text mt-2 text-center">SHOP</p>
        </div>

        <div class="h-2 flex-1 mx-2 bg-gray-300 relative">
          <div class="absolute inset-0 spidey-red" style="width: 33%"></div>
        </div>

        <div class="flex flex-col items-center">
          <div class="comic-font bg-gray-300 text-black w-12 h-12 rounded-full border-3 border-black flex items-center justify-center text-xl">
            2
          </div>
          <p class="comic-text mt-2 text-center">CART</p>
        </div>

        <div class="h-2 flex-1 mx-2 bg-gray-300"></div>

        <div class="flex flex-col items-center">
          <div class="comic-font bg-gray-300 text-black w-12 h-12 rounded-full border-3 border-black flex items-center justify-center text-xl">
            3
          </div>
          <p class="comic-text mt-2 text-center">CHECKOUT</p>
        </div>

        <div class="h-2 flex-1 mx-2 bg-gray-300"></div>

        <div class="flex flex-col items-center">
          <div class="comic-font bg-gray-300 text-black w-12 h-12 rounded-full border-3 border-black flex items-center justify-center text-xl">
            4
          </div>
          <p class="comic-text mt-2 text-center">ENJOY!</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Animation for onomatopoeia elements
  document.addEventListener('DOMContentLoaded', function () {
    const onomatopoeiaElements = document.querySelectorAll('.onomatopoeia');

    onomatopoeiaElements.forEach((element) => {
      element.style.opacity = '0';
      element.style.transform = 'scale(0)';

      setTimeout(() => {
        element.style.opacity = '';
        element.style.transform = '';
      }, 300);
    });

    // Add click effect to Add to Cart button
    const addToCartBtn = document.querySelector('.action-button');
    if (addToCartBtn) {
      addToCartBtn.addEventListener('click', function () {
        const clickText = document.createElement('div');
        clickText.className = 'comic-font absolute text-4xl onomatopoeia';
        clickText.style.color = '#e23636';
        clickText.style.top = '50%';
        clickText.style.left = '50%';
        clickText.style.transform = 'translate(-50%, -50%)';
        clickText.style.zIndex = '10';
        clickText.textContent = 'POW!';

        this.appendChild(clickText);

        setTimeout(() => {
          clickText.remove();
        }, 1000);
      });
    }
  });
</script>

{% schema %}
{
  "name": "Spiderverse PDP",
  "class": "shopdev",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Product Display Settings"
    },
    {
      "type": "text",
      "id": "product_title_prefix",
      "label": "Product Title Prefix",
      "default": "AMAZING"
    },
    {
      "type": "textarea",
      "id": "product_subtitle",
      "label": "Product Subtitle",
      "default": "From the Spider-Verse Collection"
    },
    {
      "type": "text",
      "id": "add_to_cart_text",
      "label": "Add to Cart Button Text",
      "default": "ADD TO CART"
    },
    {
      "type": "text",
      "id": "add_to_cart_effect",
      "label": "Add to Cart Effect Text",
      "default": "CLICK!"
    },
    {
      "type": "header",
      "content": "Comic Book Elements"
    },
    {
      "type": "text",
      "id": "zoom_effect_text",
      "label": "Zoom Effect Text",
      "default": "ZOOM!"
    },
    {
      "type": "text",
      "id": "price_effect_text",
      "label": "Price Effect Text",
      "default": "WOW!"
    },
    {
      "type": "text",
      "id": "shipping_info",
      "label": "Shipping Information",
      "default": "FREE SHIPPING on orders over $50!"
    },
    {
      "type": "header",
      "content": "Related Products"
    },
    {
      "type": "text",
      "id": "related_products_title",
      "label": "Related Products Title",
      "default": "WITH GREAT POWER COMES GREAT STYLE!"
    },
    {
      "type": "range",
      "id": "related_products_count",
      "min": 2,
      "max": 8,
      "step": 1,
      "label": "Number of Related Products",
      "default": 4
    }
  ],
  "presets": [
    {
      "name": "Spider-Verse PDP",
      "settings": {
        "product_title_prefix": "AMAZING",
        "product_subtitle": "From the Spider-Verse Collection",
        "add_to_cart_text": "ADD TO CART",
        "add_to_cart_effect": "CLICK!",
        "zoom_effect_text": "ZOOM!",
        "price_effect_text": "WOW!",
        "shipping_info": "FREE SHIPPING on orders over $50!",
        "related_products_title": "WITH GREAT POWER COMES GREAT STYLE!",
        "related_products_count": 4
      }
    }
  ]
}
{% endschema %}
